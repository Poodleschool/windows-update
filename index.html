<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows Update</title>
    <link rel="stylesheet" href="fontdec.css">
    <link rel="stylesheet" href="style.css">
</head>

<script>
Element.requestFullscreen()
const fsElement = document.documentElement;
let escHoldStart = null;
let escTimeout = null;

document.getElementById("goFullscreen").onclick = () => {
  fsElement.requestFullscreen();
};

document.addEventListener("keydown", (e) => {
  if (e.key === "Escape" && !escHoldStart) {
    escHoldStart = performance.now();
    escTimeout = setTimeout(() => {
      if (document.fullscreenElement) {
        document.exitFullscreen();
      }
    }, 1000); // 1 second hold to exit
  }
});

document.addEventListener("keyup", (e) => {
  if (e.key === "Escape") {
    clearTimeout(escTimeout);
    escHoldStart = null;
  }
});
</script>

<body oncontextmenu="return false;" class="contrast-bg">

    <div class="spinner contrast-el"></div>

    <div class="updateprog">

        <h2 class="percent contrast-el">Working on Updates </h2>

    </div>

    <h2 class="contrast-el">Please keep your computer on.</h2>

    <!-- script time -->

    <script src="src/spinner.js"></script>
    <script src="src/percent.js"></script>
    <script src="src/trap.js"></script>
</body>

</html>
